<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- JQuery -->
    <script src="lib/jquery-3.6.0.min.js"></script>
    <!-- p5js -->
    <script src="lib/p5.js"></script>
    <!-- ml5 -->
    <script src="lib/ml5.min.js"></script>
    <!-- UIkit CSS -->
    <link rel="stylesheet" href="lib\uikit.min.css"/>
    <!-- UIkit JS -->
    <script src="lib\uikit.min.js"></script>
    <!-- JavaScript files -->
    <script src="sketch.js"></script>
    <script src="Boundary.js"></script>
    <script src="Ray.js"></script>
    <script src="Particle.js"></script>
    <script src="Modal_Controller.js"></script>
    <!-- other -->
    <link rel="stylesheet" type="text/css" href="style.css">
    <meta charset="utf-8">
    <title>Evolutionary Self-Driving</title>
  </head>

  <body>

    <div id="top-nav" class="disableSelection">
      <h1 id="nav-title">Evolutionary Self-Driving</h1>
      <a onclick="initialize_random_population()">Initialize Random Population (I)</a>
      <a onclick="new_generation()">New Generation (G)</a>
      <a onclick="save_selected_vehicle()">Save Selected (S)</a>
      <a onclick="initialize_from_saved()">Initialize From Saved</a>
      <a onclick="race_saved_vehicle()">Race Saved Vehicle (R)</a>
      <a onclick="load_trained_model()">Load Trained Model (L)</a>
      <a href="#modal" uk-toggle>Help</a>
    </div>

    <div id="sub-nav" class="disableSelection">
      <p id="alert-div">Initialize a population!</p>
    </div>

    <!-- This is the modal -->
    <div id="modal" uk-modal>
      <div class="uk-modal-dialog uk-modal-body">

        <div class="modal-split">
          <h2 class="uk-modal-title">Welcome to Evolutionary Self-Driving</h2>
          <p>This short tutorial will walk you through all of the features of this application.</p>
          <p>If you want to dive right in, feel free to press the "Skip Tutorial" button below. Otherwise, press "Next"!</p>
        </div>

        <div class="modal-split">
          <h2 class="uk-modal-title">What is a Genetic Algorithm?</h2>
          <p>Genetic algorithms imitate biological evolution by using a natural selection process to find a solution to a problem. </p>
          <p>The process begins with a randomly generated (dumb) population. In each generation, the fitness of every individual is evaluated and the best individuals are crossbred and mutated to form a new generation. The cycle repeats with every new generation.</p>
          <img src="img\whatisgenetic.png" width="70%">
        </div>
        
        <div class="modal-split">
          <h2 class="uk-modal-title">Using the Genetic Algorithm</h2>
          <p>Click the “Initialize Random Population” button to initiate a randomly generated population.</p>
          <p>Left click the best performing vehicles to select them as the parents of the next generation. Click the “New Generation” button to create a new population. Repeat this process until a vehicle learns to drive around the track.</p>
          <p>It should take around 20 generations to get a vehicle to learn to go around the track.</p>
          <img src="img\Animation.gif">
        </div>

        <div class="modal-split">
          <h2 class="uk-modal-title">Saving and Racing Vehicles</h2>
          <p>Left click a vehicle to select it and click the “Save Selected” button to save its brain into memory.</p>
          <p>We can now initialize a new generation from the saved vehicle using the “Initialize from Saved” button.</p>
          <p>Additionally, we can race the saved vehicle using the “Race Saved Vehicle” button and the arrow keys to control the car.</p>
        </div>

        <div id="modal-button-div" class="disableSelection">
          <button class="uk-button uk-button-primary uk-modal-close modal-button-left" 
                  type="button"
                  id="skip-tutorial-button">Skip Tutorial</button>
          <button class="uk-button uk-button-primary modal-button-right" 
                  type="button"
                  id="next-button">Next</button>     
          <button class="uk-button uk-button-default modal-button-right" 
                  type="button"
                  id="previous-button">Previous</button>   
        </div>  

        <div id="page_number_div">
          <p id="page_number">1/4</p>
        </div>

      </div>
    </div>

    <div id="sketch-holder">
      <!-- Our sketch will go here! -->
    </div>

  </body>

</html>